!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MluxBinder=e():t.MluxBinder=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,o){"use strict";var n,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(u){"object"===i(e)&&void 0!==t?t.exports=u():(n=u,void 0!==(r="function"==typeof n?n.call(e,o,e,t):n)&&(t.exports=r))}(function(){function t(t){var e=O.call(t).slice(8,-1);return"Object"!==e?e:S.test(t.constructor.toString())?e=RegExp.$1:e}function e(t){return k(t)&&t.length<=0}function o(t){return/\[native code\]/.test(t)}function n(t){return void 0===t}function r(t){return null===t}function u(t){return"number"==typeof t}function s(t){return 0===t}function c(t){return u(t)&&t>>>0!==t}function p(t){return"boolean"==typeof t}function l(t){return"object"===(void 0===t?"undefined":i(t))}function f(e){return"Object"===t(e)&&x(e).length<=0}function a(t){return"string"==typeof t}function y(t){return a(t)&&w.test(t)}function b(t){return"[object Function]"===O.call(t)}function _(t){return r(t)||n(t)||y(t)||e(t)||f(t)}function h(t){return t===!1}function d(t){return!!t}function v(t){return r(t)||n(t)||y(t)}var O=Object.prototype.toString,m=!{toString:null}.propertyIsEnumerable("toString"),g=function(){}.propertyIsEnumerable("prototype"),j=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],P=j.length,x=Object.keys||function(t){var e=[],o=g&&"function"==typeof t;if("string"==typeof t||t&&t.callee)for(var n=0;n<t.length;++n)e.push(String(n));else for(var r in t)o&&"prototype"===r||!ohasOwn.call(t,r)||e.push(String(r));if(m)for(var i=t.constructor,u=i&&i.prototype===t,s=0;s<P;s++){var c=j[s];u&&"constructor"===c||!ohasOwn.call(t,c)||e.push(c)}return e},S=/function\s+(\w+)\s*\(/,k=Array.isArray||function(t){return"[object Array]"===O.call(t)},w=/^[\s\uFEFF\xA0]*&/;return{is:t,isArray:k,isBoolean:p,isFunction:b,isNative:o,isObject:l,isNull:r,isNumber:u,isZero:s,isNegative:c,isString:a,isUndefined:n,isEmptyString:y,isEmptyArray:e,isEmptyValue:_,isEmpty:v,isNaN:isNaN,isStrictFalse:h,isFalse:d}})},function(t,e,o){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){function e(){this.props=Object.assign({},t.props)}return e.prototype=t,new e}function s(t){return function(t){function e(t,o){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return r._storePublisher=new a(r),r._storePublisher.setStores(t.bind),r._storePublisher.setListener(function(){console.log("sadfasd"),r.forceUpdate()}),r._isMounted=!1,r._fakeContext=u(r),r}return r(e,t),p(e,[{key:"_setPropsToFakeContext",value:function(t){t.propsUpdater&&Object.assign(this._fakeContext.props,t,t.propsUpdater())}},{key:"shouldComponentUpdate",value:function(t,e){return!0}},{key:"componentWillReceiveProps",value:function(t){this._storePublisher.setStores(t.bind),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillReceiveProps",this)&&c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillReceiveProps",this).call(this)}},{key:"componentWillUpdate",value:function(t,o){this._setPropsToFakeContext(t),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUpdate",this)&&c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUpdate",this).call(this,t,o)}},{key:"componentDidMount",value:function(){this._isMounted=!0,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentDidMount",this)&&c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentDidMount",this).call(this)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._storePublisher.release(),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUnmount",this)&&c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){return c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"render",this).call(this._fakeContext)}}]),e}(t)}Object.defineProperty(e,"__esModule",{value:!0});var c=function t(e,o,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,n)}if("value"in r)return r.value;var u=r.get;if(void 0!==u)return u.call(n)},p=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),l=o(0),f=function(t){return t&&t.__esModule?t:{default:t}}(l),a=function(){function t(e){i(this,t),this.stores={},this.listener,this._receviers={}}return p(t,[{key:"setStores",value:function(t){var e=this;t&&(this.release(),f.default.isArray(t)&&t.forEach(function(t){e._receviers[t.getStoreName()]=t.addListener("change",function(){e.publish()})}))}},{key:"setListener",value:function(t){this.listener=t}},{key:"release",value:function(){for(var t in this._receviers)this._receviers[t].remove()}},{key:"publish",value:function(){f.default.isFunction(this.listener)&&this.listener()}}]),t}();e.default={createClass:s}}])});